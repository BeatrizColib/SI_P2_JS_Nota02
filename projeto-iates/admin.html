<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin - Login</title>
    <link rel="stylesheet" href="css/default.css" />
    <script src="js/jquery-3.6.4.min.js"></script>
    <script src="js/api.js"></script>
  </head>

  <body>
    <div class="page">
      <header>
        <h1>Administrador</h1>
      </header>

      <main>
        <form id="loginForm">
          <div class="entry">
            <label for="email">E-mail:</label>
            <input type="email" id="email" required />
          </div>

          <div class="entry">
            <label for="senha">Senha:</label>
            <input type="password" id="senha" required />
          </div>

          <div class="buttons">
            <button type="button" id="loginButton">Entrar</button>
          </div>
        </form>
      </main>

      <footer>
        <p>© 2024 Luxo - Administrador</p>
      </footer>
    </div>

    <script>
      $(document).ready(function () {
        $('#loginButton').click(function () {
          var email = $('#email').val();
          var senha = $('#senha').val();
          
          if (email && senha) {
            var objLoginSenha = {
              email: email,
              senha: senha
            };
            
            if (validarUsuario(objLoginSenha)) {
              window.location.href = "mensagens.html";
            } else {             
              alert("Email e/ou senha inválido/os. Tente novamente.");
            }
          } else {
            alert("Preencha todos os campos corretamente.");
          }
        });
      });
    </script>
  </body>
</html>
